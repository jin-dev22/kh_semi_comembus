######################################
# community-query.properties
######################################
#taeyeon code start

#findQnaAll = select * from community_board where co_type='Q'
findQnaAll = select * from (select row_number() over(order by co_reg_date desc) rnum, cb.* from community_board cb where co_type='Q') cb where rnum between ? and ?
findFreeAll = select * from (select row_number() over(order by co_reg_date desc) rnum, cb.* from community_board cb where co_type='F') cb where rnum between ? and ?
findShareAll = select * from (select row_number() over(order by co_reg_date desc) rnum, cb.* from community_board cb where co_type='S') cb where rnum between ? and ?

insertQna = insert into community_board (co_no, co_title, co_writer, co_content, co_type) values(seq_co_no.nextval, ?, ?, ?, 'Q')
insertFree = insert into community_board (co_no, co_title, co_writer, co_content, co_type) values(seq_co_no.nextval, ?, ?, ?, 'F')
insertShare = insert into community_board (co_no, co_title, co_writer, co_content, co_type) values(seq_co_no.nextval, ?, ?, ?, 'S')

getQnaContent = select count(*) from community_board where co_type='Q'
getFreeContent = select count(*) from community_board where co_type='F'
getShareContent = select count(*) from community_board where co_type='S'

findByQnaNo= select * from community_board where co_no=?
findByFreeNo = select * from community_board where co_no=?
findByShareNo = select * from community_board where co_no=?

updateQna = update community_board set co_title=?, co_content=? where co_no =?
updateFree = update community_board set co_title=?, co_content=? where co_no =?
updateShare = update community_board set co_title=?, co_content=? where co_no =?

deleteQna = delete from community_board where co_no = ? 
deleteFree = delete from community_board where co_no = ? 
deleteShare = delete from community_board where co_no = ? 

insertQnaComment = insert into community_repl values (seq_community_repl_no.nextval, ?, ?, default, ?, ?, ?)
findQnaCommentcoNo = select * from community_repl where co_no = ? start with repl_level = 1 connect by prior repl_no = ref_repl_no order siblings by repl_no asc
#taeyeon code end

#sujin code start
findAllByMemberId = select * from (select row_number() over(order by co_reg_date desc) rnum, co.* from community_board co where co_writer = ?) co where rnum between ? and ?
getTotalMemberCommunityNum = select count(*) from community_board where co_writer = ?
#sujin code end


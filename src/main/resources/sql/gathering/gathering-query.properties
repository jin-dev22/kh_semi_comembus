###############################
# gathering-query.properties
###############################
findProjectAll = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type ='P' and end_date > sysdate)p where rnum between ? and ?
findStudyAll = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0)from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type ='S' and end_date > sysdate)s where rnum between ? and ?
getProjectTotalContent = select count(*) from project_study where gathering_type = 'P' and end_date > sysdate
getStdTotalContent = select count(*) from project_study where gathering_type = 'S' and end_date > sysdate

findProjectLike = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'P' [str1] [str2] [str3] and end_date > sysdate) p where rnum between ? and ?
findStudyLike = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'S' [str1] [str2] [str3] and end_date > sysdate) s where rnum between ? and ?
getProTotalContentLike = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'P' [str1] [str2] [str3] and end_date > sysdate) p
getStdTotalContentLike = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'S' [str1] [str2] [str3] and end_date > sysdate) s

findAllProBookmarked = select * from(select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where end_date > sysdate and ps_no in(select ps_no from BOOKMARKED_PRJ_STD where gathering_type = 'P' and member_id = ?))p
findAllStdBookmarked = select * from(select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where end_date > sysdate and ps_no in(select ps_no from BOOKMARKED_PRJ_STD where gathering_type = 'S' and member_id = ?))p

findProBookmarkFilter = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'P' and end_date > sysdate [str1])p where rnum between ? and ?
getTotalProBookmarkFilter = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'P' and end_date > sysdate [str1])p
findStdBookmarkFilter = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'S' and end_date > sysdate [str1])s where rnum between ? and ?
getTotalStdBookmarkFilter = select * from (select row_number() over(order by reg_date desc) rnum, ps.*, (select nvl(sum(recruited_number), 0) from project_member_dept where ps_no = ps.ps_no) recruited_cnt from project_study ps where gathering_type = 'S' and end_date > sysdate [str1])s

#sujin code start
findAllByMemberId = select * from project_study where ps_no in(select ps_no from member_application_status where member_id = ? and result = 'O')
findAllBookmarked = select * from project_study where ps_no in(select ps_no from BOOKMARKED_PRJ_STD where member_id = ?)
findAllApldByMemberId = select * from project_study where ps_no in (select ps_no from member_application_status where member_id = ? and result = 'W') and sysdate between start_date and end_date
cancelApld = update member_application_status set result = 'X' where member_id = ? and ps_no = ? and result='W'
findByNo = select * from project_study where ps_no = ?
getCapacitiesByDept = select job_code, capacity_number from PROJECT_MEMBER_DEPT where ps_no = ?
updatePSMemNumByDept = update project_member_dept  set recruited_number = recruited_number + 1 where ps_no = ? and job_code = ?
updateApldResult = update member_application_status set result = ? where member_id = ? and ps_no = ?
addStdMemNum = update project_member_dept  set recruited_number = recruited_number + 1 where ps_no = ?
getRcrtdForStd = select recruited_number from PROJECT_MEMBER_DEPT where ps_no= ?
attachRctdCntToGather = select nvl(sum(recruited_number), 0)  from project_member_dept where ps_no = ?
#sujin code end

#yukyung code start
insertProject = insert into project_study (ps_no, writer, gathering_type, title, reg_date, content, viewcount, bookmark, topic, local, people, status, start_date, end_date) values (seq_project_study_ps_no.nextval,?,'P',?,default,?,default,default,?,?,?,default,?,?)
getLastProjectNo = select seq_project_study_ps_no.currval from dual
insertProjectMemberDept = insert into project_member_dept (p_m_dept_no, ps_no, job_code, capacity_number, recruited_number) values(seq_project_member_dept_p_m_dept_no.nextval, ? , ? , ? , ?)
insertStudy = insert into project_study (ps_no, writer, gathering_type, title, reg_date, content, viewcount, bookmark, topic, local, people, status, start_date, end_date) values (seq_project_study_ps_no.nextval,?,'S',?,default,?,default,default,?,?,?,default,?,?)
getLastStudyNo = select seq_project_study_ps_no.currval from dual
updateProject = update project_study set title=?, content =?, people=?, local=?, start_date=?, end_date=? where ps_no=? 

#yukyung code end

## test
enrollProjectDep = [str1] [str2] [str3] [str4]

#misong code start
updateStudy = update project_study set title=?, content =?, people=?, local=?, start_date=?, end_date=? where ps_no=? 
#misong code end